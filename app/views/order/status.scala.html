@(frm:Form[List[models.order.OrderDefStatus]], replyTo:Call)

@import views.HorizontalForm._

@partField(fld:Field, cls:String) = {
  <div class="@cls">
    @helper.inputText(fld("part"))
    <a class="removePart">remove</a>
  </div>
}

@main("Order status", views.ObjectType.Order) {
} {
    <h3>
        Order status
    </h3>
	@helper.form(action = replyTo, 'class -> "form-horizontal") {
        @helper.repeat(frm("statuses"), 0) { st =>
            <div class="well">
              @odefInput(st("odefid"), "odefhandle")
              @helper.repeat(st("parts"), 0) { part =>
                  @partField(part, "part")
              }
              @partField(st("parts[x]"), "partTemplate hidden")
              <a class="addButton">Add parts</a>
            </div>
        }
	  	<input type="submit" value="Submit" />
	  	@helper.requireJs(core = routes.Assets.at("javascripts/require.js").url, module = routes.Assets.at("javascripts/orderStatusForm").url)
	}
         
}
